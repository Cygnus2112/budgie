<body>
  <div id="page-content-wrapper">
    <div class="container-fluid">
      <h1>Transaction History</h1>

        <div class="form-group">
              <div class="col-lg-12">
                <label for="select" class="col-lg-2 control-label">Selects</label>
                <div class="col-lg-10">
                  <select class="form-control" id="select" ng-model="history.inputType">
                    <option value="">income and expenses</option>
                    <option value="income">income</option>
                    <option value="expense">expenses</option>
                  </select>
              </div>
            </div>
          </div>

          <button class="btn btn-default" ng-csv-dropbox="history.allTable" csv-header="['Amount','Name','Category','Notes','Type']"
          csv-column-order="['amount','name','category','notes','inputType']" filename="BudgieHistory.csv" field-separator="," decimal-separator=".">
          Export to Dropbox</button>

          <button class="btn btn-default" ng-csv="history.allTable" csv-header="['Amount','Name','Category','Notes','Type']"
          csv-column-order="['amount','name','category','notes','inputType']" filename="BudgieHistory.csv" field-separator="," decimal-separator=".">
          Export to CSV</button>

      <table class="table table-striped table-hover">
        <thead>
          <tr>
            <th ng-click="history.sortBy('amount')">Amount</th><span class="sortorder" ng-class="{reverse:reverse}"></span>
            <th ng-click="history.sortBy('name')">Expense</th><span class="sortorder" ng-class="{reverse:reverse}"></span>
            <th ng-click="history.sortBy('category')">Category</th><span class="sortorder" ng-class="{reverse:reverse}"></span>
            <th ng-click="history.sortBy('spent_date')">Time</th><span class="sortorder" ng-class="{reverse:reverse}"/>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-class="{success: expenseThings.inputType === 'expense', info: expenseThings.inputType === 'income'}" ng-repeat="expenseThings in history.allTable | filter: history.inputType | orderBy:cat:reverse">
            <td>{{expenseThings.amount}}</td>
            <td>{{expenseThings.name}}</td>
            <td>{{expenseThings.category}}</td>
            <td>{{expenseThings.spent_date}}</td>
            <td>{{expenseThings.notes}}</td>
            <td class="text-right">
		            <input type="button" value="Remove" class="btn btn-danger" data-ng-click="history.removeRow($index, expenseThings.id, expenseThings.inputType)" />
		        </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  <div>
    <h2>Hover over a marker to view transaction details</h2>
  </div>

  <section class="map-container">
    <div id="map_canvas" ></div> <!-- ng-controller="MapController" -->
  </section>

</body>
