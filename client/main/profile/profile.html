<div id="wrapper" ng-init="profile.loadProfile()">
    <div id="page-content-wrapper">
        <button class="btn btn-primary" ng-click="profile.logOut()">Logout</button>
    	<br><br>
    	<div class="col-lg-10">
    		<h1>{{ profile.full_name }}'s Profile:</h1>
    	</div>
    	<div class="col-lg-10">
    		<legend>Email: {{ profile.email }}</legend>
    	</div>
    	<div class="col-lg-10">
    		<legend>Monthly Spending Limit: ${{ profile.monthly_limit }}</legend><a ng-click="profile.changeLimit()" class="btn btn-info btn-sm">edit</a>
    	</div>
        <div class="form-group" ng-show="profile.limitClicked">
            <div class="col-lg-10">
            <input type="number" class="form-control" placeholder="New Monthly Limit" ng-model="profile.newLimit"/><button ng-click="profile.submitNewLimit(profile.newLimit)" class="btn btn-primary">Submit</button>
            </div>
        </div>
        <div class="col-lg-10">
            <h2 class="col-lg-8">Monthly Savings Target: {{ profile.savings_goal }}%</h2><a ng-click="profile.changeTarget()" class="btn btn-info btn-sm">edit</a>
        </div>
         <div class="form-group" ng-show="profile.targetClicked">
            <div class="col-lg-10">
            <input type="number" class="form-control" placeholder="New Savings Target" ng-model="profile.newSavingsTarget"/><button class="btn btn-primary" ng-click="profile.submitNewSavingsTarget(profile.newSavingsTarget)">Submit</button>
            </div>
        </div>

        <div class="col-lg-10">
            <legend>Total savings to date: ${{ profile.total_savings }}</legend>
            <a ng-click="profile.toggleAllocate()" class="btn btn-info btn-sm">Click to allocate a portion of your savings</a>
        </div>

        <!--
         <div class="form-group" ng-show="profile.allocateClicked">
            <div class="col-lg-10">
            <input type="number" class="form-control" placeholder="New Savings Target" ng-model="profile.newSavings"/><button class="btn btn-primary" ng-click="profile.submitNewSavings(profile.newSavings)">Submit</button>
            </div>
        </div>

        <div class="col-lg-10">
            <legend>Total savings to date: ${{ profile.total_savings }}</legend>
            <a ng-click="profile.toggleAllocate()" class="btn btn-info btn-sm">Click to allocate a portion of your savings</a>
        </div>
    -->
        <div class="col-lg-10">           
            <table class='table borderless whitesmoke margin-bottom-ten' >    
            <tr>
                <th class='col-md-2'>Goal</th><th class='col-md-2'>Cost</th><th class='col-md-2'>Target Date</th><th class='col-md-2'>Progress</th>
            </tr>     
            <tr ng-repeat='goal in profile.goals'>
                <td class='col-md-2'>{{ goal.name }}</td> <td class='col-md-2'>${{ goal.price }}</td>
                <td class='col-md-2'>{{ goal.target_date }}</td> <td class='col-md-2'>${{ goal.progress }}</td>
            </tr>
            </table>
            <a ng-click="profile.toggleNewGoal()" class="btn btn-info btn-sm">Add a new goal</a>
        </div>

        <div class="form-group" ng-show="profile.newGoalClicked">
            <div class="col-lg-10">
            <input type="text" class="form-control" placeholder="New Goal" ng-model="profile.newGoal.name"/>
            <input type="number" class="form-control" placeholder="Price" ng-model="profile.newGoal.price"/>
            <input type="date" class="form-control" placeholder="Target Date" ng-model="profile.newGoal.target_date"/>
            <button class="btn btn-primary" ng-click="profile.submitNewGoal(profile.newGoal)">Submit</button>
            </div>
        </div>
	</div>
</div>
