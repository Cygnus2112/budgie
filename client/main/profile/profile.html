<div id="wrapper" ng-init="profile.loadProfile()">
    <div id="page-content-wrapper">
        <button class="btn btn-primary" ng-click="profile.logOut()">Logout</button>
    	<br><br>
    	<div class="col-lg-10">
    		<h1>{{ profile.full_name }}'s Profile:</h1>
    	</div>
    	<div class="col-lg-10">
    		<legend>Email: {{ profile.email }}</legend>
    	</div>
    	<div class="col-lg-10">
    		<legend>Monthly Spending Limit: ${{ profile.monthly_limit }}</legend><a ng-click="profile.changeLimit()" class="btn btn-info btn-sm">edit</a>
    	</div>
        <div class="form-group" ng-show="profile.limitClicked">
            <div class="col-lg-10">
            <input type="number" class="form-control" placeholder="New Monthly Limit" ng-model="profile.newLimit"/><button ng-click="profile.submitNewLimit(profile.newLimit)" class="btn btn-primary">Submit</button>
            </div>
        </div>
        <div class="col-lg-10">
            <h2 class="col-lg-8">Monthly Savings Target: {{ profile.savings_goal }}%</h2><a ng-click="profile.changeTarget()" class="btn btn-info btn-sm">edit</a>
        </div>
         <div class="form-group" ng-show="profile.targetClicked">
            <div class="col-lg-10">
            <input type="number" class="form-control" placeholder="New Savings Target" ng-model="profile.newSavingsTarget"/><button class="btn btn-primary" ng-click="profile.submitNewSavingsTarget(profile.newSavingsTarget)">Submit</button>
            </div>
        </div>




        <div class="col-lg-10">
            <h2 class="col-lg-8">Total Savings: ${{profile.total_savings}}</h2><a ng-click="profile.toggleTotalSavings()" class="btn btn-info btn-sm">edit</a>
        </div>
         <div class="form-group" ng-show="profile.showTotalSavings">
            <div class="col-lg-10">
            <input type="number" class="form-control" placeholder="New Total Savings" ng-model="profile.newTotalSavings"/><button class="btn btn-primary" ng-click="profile.submitNewTotalSavings(profile.newTotalSavings)">Submit</button>
            </div>
        </div>






        <div class="col-lg-10">
            <table class='table borderless whitesmoke margin-bottom-ten' >
            <tr>
                <th class='col-md-2'>Goal</th><th class='col-md-2'>Amount</th><th class='col-md-2'>Category</th><th class='col-md-2'>Notes</th><th class='col-md-2'>Saved</th>
            </tr>
            <tr ng-repeat='goal in profile.goals'>
                <td class='col-md-2'>{{ goal.name }}</td>
                <td class='col-md-2'>${{ goal.amount }}</td>
                <td class='col-md-2'>{{ goal.category }}</td>
                <td class='col-md-2'>${{ goal.notes }}</td>
                <td class='col-md-2'>${{ goal.saved_amount }}</td>
                <td class="text-right">
    		            <input type="button" value="Acquire Goal" class="btn btn-success" data-ng-click="profile.completeGoal($index, goal.id)">
    		        </td>
            </tr>
            </table>
            <a ng-click="profile.toggleNewGoal()" class="btn btn-info btn-sm">Add a new goal</a>
        </div>

        <div class="form-group" ng-show="profile.newGoalClicked">
            <div class="col-lg-10">
            <input type="text" class="form-control" placeholder="New Goal" ng-model="profile.newGoal.name"/>
            <input type="number" class="form-control" placeholder="Price" ng-model="profile.newGoal.amount"/>
            <input type="text" class="form-control" placeholder="Category" ng-model="profile.newGoal.category"/>
            <input type="text" class="form-control" placeholder="Notes" ng-model="profile.newGoal.notes"/>
            <button class="btn btn-primary" ng-click="profile.submitNewGoal(profile.newGoal)">Submit</button>
            </div>
        </div>
	</div>
</div>
